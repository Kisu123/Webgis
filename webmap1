<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/ol@v10.4.0/dist/ol.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v10.4.0/ol.css">

<style>
    #map{
    width:100%;
    height:100%;
}

#layerSwitcher {
    position: absolute;
    top: 10px;
    left: 10px;
    background: lightblue;
    padding: 5px;
    border-radius: 8px;
    font-size: 14px;
    color: black;
    max-width: 180px;
}

/* Custom checkbox styling */
input[type="checkbox"] {
    appearance: none;
    width: 14px;
    height: 14px;
    border: 2px solid #28a745; /* Change border color (green) */
    border-radius: 4px;
    position: relative;
    cursor: pointer;
    transition: all 0.3s;S
}

/* When checked, change background color */
input[type="checkbox"]:checked {
    background-color: #28a745; /* Green color */
    border-color: #28a745;
}

/* Checkmark style */
input[type="checkbox"]:checked::before {
    content: "âœ”";
    font-size: 14px;
    color: white;
    font-weight: bold;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

#legend {
    position: absolute;
    bottom: 20px;
    right: 10px;
    background: white;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
    margin-left: 15px;
    font-size: 16px;
    max-width: 200px;
}

#legend h4 {
    margin: 0 0 10px;
    font-size: 16px;
    font-weight: bold;
    text-align: left;
    font-weight: 0;
    color: #333;
}

.legend-item {
    display: flex;
    align-items: left;
    margin-bottom: 8px;  /* Increase space between legend items */
}

.legend-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    margin-right: 15px; /* Increase space between symbol and text */
    border: 1px solid lightblue;
}

#north-arrow {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.8);
    padding: 8px;
    border-radius: 5px;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
    text-align: center;
}

#northArrowImg {
    width: 100%;
    height: auto;
    transition: transform 0.3s ease-in-out; /* Smooth rotation effect */
}

</style>


</head>
<body>
    
    <div id="map"></div>
    <div id="legend">
        <h4>Legend</h4>
        <div class="legend-item">
            
            <img src="http://localhost:8080/geoserver/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&LAYER=Dhalgaon:water_body" alt="Water Body Legend">
            Water Body
        </div>
        <div class="legend-item">
            <img src="http://localhost:8080/geoserver/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&LAYER=Dhalgaon:cadastral" alt="Cadastral Legend">
            Cadastral
        </div>
        <div class="legend-item">
            <img src="http://localhost:8080/geoserver/wms?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&LAYER=Dhalgaon:village_boundary" alt="Village Boundary Legend">
            Village Boundary
        </div>
    </div>
    <div id="north-arrow">
        <img src="images/north-arrow.png" id="northArrowImg" alt="North Arrow">
    </div>
    

    <div id="layerSwitcher">
        <h2>Layers</h2>
        <label><input type="checkbox" id="waterBody" checked> Water Body</label><br>
        <label><input type="checkbox" id="cadastral" checked> Cadastral</label><br>
        <label><input type="checkbox" id="villageBoundary"checked > Village Boundary</label>
    </div>

    <script>
        // Define WMS layers
var waterBodyLayer = new ol.layer.Tile({
    source: new ol.source.TileWMS({
        url: 'http://localhost:8080/geoserver/Dhalgaon/wms',
        params: { "LAYERS": 'Dhalgaon:water_body', 'TILED': true },
        serverType: 'geoserver'
    }),
    visible: true
});

var cadastralLayer = new ol.layer.Tile({
    source: new ol.source.TileWMS({
        url: 'http://localhost:8080/geoserver/Dhalgaon/wms',
        params: { "LAYERS": 'Dhalgaon:cadastral', 'TILED': true },
        serverType: 'geoserver'
    }),
    visible: true
});

var villageBoundaryLayer = new ol.layer.Tile({
    source: new ol.source.TileWMS({
        url: 'http://localhost:8080/geoserver/Dhalgaon/wms',
        params: { "LAYERS": 'Dhalgaon:village_boundary', 'TILED': true },
        serverType: 'geoserver'
    }),
    visible: true
});



// Layer visibility toggle (check if elements exist before adding events)
var waterBodyCheckbox = document.getElementById('waterBody');
if (waterBodyCheckbox) {
    waterBodyCheckbox.addEventListener('change', function () {
        waterBodyLayer.setVisible(this.checked);
    });
}

var cadastralCheckbox = document.getElementById('cadastral');
if (cadastralCheckbox) {
    cadastralCheckbox.addEventListener('change', function () {
        cadastralLayer.setVisible(this.checked);
    });
}

var villageBoundaryCheckbox = document.getElementById('villageBoundary');
if (villageBoundaryCheckbox) {
    villageBoundaryCheckbox.addEventListener('change', function () {
        villageBoundaryLayer.setVisible(this.checked);
    });
}

// Initialize map
var map = new ol.Map({
    target: 'map',
    layers: [
        new ol.layer.Tile({ source: new ol.source.OSM() }), // Base map
        waterBodyLayer,
        cadastralLayer,
        villageBoundaryLayer
    ],
    view: new ol.View({
        center: ol.proj.fromLonLat([74.9881, 17.1160]), // Change to your area
        zoom: 14
    })
});
// Add Scale Control
var scaleControl = new ol.control.ScaleLine({
    units: 'metric' // Change to 'imperial' if needed
});
map.addControl(scaleControl);



    </script>
        
    
</body>
</html>
